(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4eadb367"],{"2d5d":function(e,a,t){"use strict";function r(e,a){var t=new FileReader;t.readAsDataURL(e.raw),t.onload=function(e){console.log(e),a(e.target.result)}}t.d(a,"a",function(){return r})},"500c":function(e,a,t){},"586c":function(e,a,t){"use strict";var r=t("ccb0"),i=t.n(r);i.a},a969:function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"singleImageUpload2 upload-container"},[t("el-upload",{ref:"uploadEl",staticClass:"image-uploader",attrs:{action:"''","auto-upload":!1,"show-file-list":!1,"list-type":"picture","on-change":e.handleImageSuccess,drag:""}},[t("div",{staticClass:"image-prepare"},[t("svg-icon",{attrs:{"icon-class":"camera"}}),e._v(" "),t("div",{staticClass:"image-desc",domProps:{innerHTML:e._s(e.placeholder)}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>0,expression:"imageUrl.length>0"}],staticClass:"image-preview"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[t("img",{attrs:{src:e.imageUrl}}),e._v(" "),t("div",{staticClass:"image-preview-action"},[t("svg-icon",{attrs:{"icon-class":"camera"}})],1)])])])],1)},i=[],s=t("2d5d"),l={name:"SingleImageUpload2",props:{value:{type:String,default:""},placeholder:{type:String,default:"添加产品Logo<br/>尺寸200px*200px<br/>2M以内"}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value}},methods:{uploadStart:function(){console.log(this.$refs.uploadEl)},rmImage:function(){this.emitInput("")},emitInput:function(e){this.$emit("input",e)},handleImageSuccess:function(e){var a=this,t=e.size/1024/1024<2;t?Object(s["a"])(e,function(e){a.emitInput(e)}):this.$message.error("上传图片大小不能超过 2MB!")}}},o=l,n=(t("586c"),t("2877")),c=Object(n["a"])(o,r,i,!1,null,"40a6bd78",null);a["a"]=c.exports},b376:function(e,a,t){"use strict";var r=t("500c"),i=t.n(r);i.a},c5b3:function(e,a,t){"use strict";var r=t("e2655"),i=t.n(r);i.a},ccb0:function(e,a,t){},e2655:function(e,a,t){},fc34:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"app-container visionBasic",attrs:{"v-loading":e.loading}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("基本信息")])]),e._v(" "),t("Upload",{staticStyle:{width:"200px",height:"200px"},attrs:{placeholder:"添加产品Logo<br/>尺寸200px*200px<br/>2M以内"},model:{value:e.dialogImageUrl,callback:function(a){e.dialogImageUrl=a},expression:"dialogImageUrl"}}),e._v(" "),t("el-form",{ref:"ruleForm",attrs:{model:e.form,rules:e.formRules,"label-width":"100px","label-position":"top"}},[t("el-form-item",{attrs:{label:"产品名称",prop:"name"}},[t("el-input",{attrs:{name:"name",placeholder:"输入产品名称"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"产品介绍",prop:"desc"}},[t("el-input",{staticClass:"textareaInput",attrs:{name:"desc",type:"textarea",size:"medium",placeholder:"输入产品详细介绍"},model:{value:e.form.desc,callback:function(a){e.$set(e.form,"desc",a)},expression:"form.desc"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"上传介绍图",prop:"imageUrl"}},[t("Upload",{staticStyle:{width:"480px",height:"184px"},attrs:{placeholder:"添加产品介绍图<br/>推荐尺寸900px*600px"},model:{value:e.form.imageUrl,callback:function(a){e.$set(e.form,"imageUrl",a)},expression:"form.imageUrl"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1)],1)},i=[],s=(t("7f7f"),t("c4c8")),l=t("a969"),o={components:{Upload:l["a"]},data:function(){return{loading:1,id:null,form:{name:"",desc:"",imageUrl:""},formRules:{name:[{required:!0,trigger:"blur",message:"请输入产品名称"}],desc:[{required:!0,trigger:"blur",message:"请输入产品介绍"}],imageUrl:[{required:!0,trigger:"blur",message:"请上传介绍图"}]},dialogImageUrl:""}},created:function(){var e=this;this.$store.dispatch("product/getProductInfo",function(a){e.loading=0,e.dialogImageUrl=a.log,e.id=a.id,e.form.name=a.name,e.form.desc=a.summary,e.form.imageUrl=a.cover_pic})},methods:{onSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(a){if(!a)return e.$message({message:"请正确填写表单",type:"error"}),!1;Object(s["D"])({id:e.id,name:e.form.name,logo:e.dialogImageUrl,summary:e.form.desc,cover_pic:e.form.imageUrl}).then(function(a){e.$message({message:"操作成功",type:"success"}),e.$store.dispatch("product/clear")})})}}},n=o,c=(t("c5b3"),t("b376"),t("2877")),m=Object(c["a"])(n,r,i,!1,null,null,null);a["default"]=m.exports}}]);